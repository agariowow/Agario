var Vector2=function(t,e){this.x=t||0,this.y=e||0};Vector2.prototype={reset:function(t,e){return this.x=t,this.y=e,this},toString:function(t){t=t||3;var e=Math.pow(10,t);return"["+Math.round(this.x*e)/e+", "+Math.round(this.y*e)/e+"]"},clone:function(){return new Vector2(this.x,this.y)},copyTo:function(t){t.x=this.x,t.y=this.y},copyFrom:function(t){this.x=t.x,this.y=t.y},magnitude:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},magnitudeSquared:function(){return this.x*this.x+this.y*this.y},normalise:function(){var t=this.magnitude();return this.x=this.x/t,this.y=this.y/t,this},reverse:function(){return this.x=-this.x,this.y=-this.y,this},plusEq:function(t){return this.x+=t.x,this.y+=t.y,this},plusNew:function(t){return new Vector2(this.x+t.x,this.y+t.y)},minusEq:function(t){return this.x-=t.x,this.y-=t.y,this},minusNew:function(t){return new Vector2(this.x-t.x,this.y-t.y)},multiplyEq:function(t){return this.x*=t,this.y*=t,this},multiplyNew:function(t){return this.clone().multiplyEq(t)},divideEq:function(t){return this.x/=t,this.y/=t,this},divideNew:function(t){return this.clone().divideEq(t)},dot:function(t){return this.x*t.x+this.y*t.y},angle:function(t){return Math.atan2(this.y,this.x)*(t?1:Vector2Const.TO_DEGREES)},rotate:function(t,e){var i=Math.cos(t*(e?1:Vector2Const.TO_RADIANS)),n=Math.sin(t*(e?1:Vector2Const.TO_RADIANS));return Vector2Const.temp.copyFrom(this),this.x=Vector2Const.temp.x*i-Vector2Const.temp.y*n,this.y=Vector2Const.temp.x*n+Vector2Const.temp.y*i,this},equals:function(t){return this.x==t.x&&this.y==t.x},isCloseTo:function(t,e){return!!this.equals(t)||(Vector2Const.temp.copyFrom(this),Vector2Const.temp.minusEq(t),Vector2Const.temp.magnitudeSquared()<e*e)},rotateAroundPoint:function(t,e,i){Vector2Const.temp.copyFrom(this),Vector2Const.temp.minusEq(t),Vector2Const.temp.rotate(e,i),Vector2Const.temp.plusEq(t),this.copyFrom(Vector2Const.temp)},isMagLessThan:function(t){return this.magnitudeSquared()<t*t},isMagGreaterThan:function(t){return this.magnitudeSquared()>t*t}},Vector2Const={TO_DEGREES:180/Math.PI,TO_RADIANS:Math.PI/180,temp:new Vector2};var Pa="#000000",c_bildiri_ar=[],c_bildiri_id=[];function setCookie(t,e,i){var n="";if(i){var o=new Date;o.setTime(o.getTime()+24*i*60*60*1e3),n="; expires="+o.toUTCString()}document.cookie=t+"="+(e||"")+n+"; path=/"}function getCookie(t){const e=`; ${document.cookie}`.split(`; ${t}=`);if(2===e.length)return e.pop().split(";").shift()}function delete_cookie(t){document.cookie=t+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"}!function(t,e){var i=__ana_server,n=!0,o=new Image;o.src="../img/gum.webp?v=cache";var s=new Image;function a(t,e,i,n,o,s){return t<=o&&o<=i&&e<=s&&s<=n}s.src="../img/images/arrow.webp?v=14";var r,l,h,c="createTouch"in document,d=[],u=-1,f=new Vector2(0,0),g=new Vector2(0,0),p=new Vector2(0,0),v=!0,y="ontouchstart"in self&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);function x(t){"splitBtn"==t.target.id?(R(),G(17),spacePressed=!0):"ejectBtn"==t.target.id&&(R(),G(21),wPressed=!0)}function w(t){c||(c=!0),document.getElementById("mobileStuff").style.display="block";for(var e=0;e<t.changedTouches.length;e++){var i=t.changedTouches[e];u<0&&i.clientX<lt/2&&(u=i.identifier,g.reset(i.clientX,i.clientY),f.copyFrom(g),p.reset(0,0));var n=~~(lt/7);i.clientX>lt-n&&i.clientY>ht-n&&(R(),G(17)),i.clientX>lt-n&&i.clientY>ht-2*n-10&&i.clientY<ht-n-10&&(R(),G(21))}d=t.touches}function k(t){t.preventDefault();for(var e=0;e<t.changedTouches.length;e++){var i=t.changedTouches[e];u==i.identifier&&(f.reset(i.clientX,i.clientY),p.copyFrom(f),p.minusEq(g),St=3*p.x+lt/2,_t=3*p.y+ht/2,_(),R())}d=t.touches}function b(t){d=t.touches;for(var e=0;e<t.changedTouches.length;e++){var i=t.changedTouches[e];if(u==i.identifier){u=-1,p.reset(0,0);break}}}function S(t){Jt?(.4>(pe*=Math.pow(.9,t.wheelDelta/-120||t.detail||0))&&(pe=.4),pe>10/Dt&&(pe=10/Dt)):(.01>(pe*=Math.pow(.9,t.wheelDelta/-120||t.detail||0))&&(pe=.01),pe>4/Dt&&(pe=4/Dt))}function _(){Ct=(St-lt/2)/Dt+ut,Tt=(_t-ht/2)/Dt+ft}function C(){ae=!1,e("#adsBottom").hide(),e("#overlays").hide(),P()}function T(i){i&&i!=Et&&(e("#region").val()!=i&&e("#region").val(i),Et=t.localStorage.location=i,e(".btn-needs-server").prop("disabled",!1),se&&E())}function A(t){ae=!0,It=null,e("#overlays").fadeIn(t?200:3e3),t||e("#adsBottom").fadeIn(3e3)}function I(t){var e=((t=~~t)%60).toString();return t=(~~(t/60)).toString(),2>e.length&&(e="0"+e),t+":"+e}function M(t,e){var i=-1!=gt.indexOf(t.id),n=-1!=gt.indexOf(e.id),o=30>e.size;i&&o&&++qt,o||!i||n||++$t,o||!i||n||++this.lastgold,10==this.lastgold&&(this.gold+=1,this.lastgold=0)}function z(t,e){if(-1!=t.indexOf("{")&-1!=t.indexOf("}")){var i=t.indexOf("{"),n=t.indexOf("}"),o=t.slice(n+1);return e&&(o=""==o?"UnnamedCell":t.slice(n+1)),[t.slice(i+1,n),o]}return["",t]}function A(t,i){if(ae=!0,1==i){var n=["max","c2V0c2NyLnBocA==","html","#levelbar","post"];Bt=Math[n[0]](Bt,Q()),$[n[4]](atob(n[1]),{s:Bt},function(t,e){$(n[3])[n[2]](t)}),function(){if(e(".stats-leaderboard-time").text(I(Rt)),e(".stats-food-eaten").text(qt),e(".stats-highest-mass").text(~~(Bt/100)),e(".stats-time-alive").text(I((Date.now()-fe)/1e3)),e(".stats-cells-eaten").text($t),e(".stats-top-position").text(0==Lt?":(":Lt),n=document.getElementById("statsGraph")){var t=n.getContext("2d"),i=n.width,n=n.height;if(t.clearRect(0,0,i,n),2<ue.length){for(var o=200,s=0;s<ue.length;s++)o=Math.max(ue[s],o);for(t.lineWidth=3,t.lineCap="round",t.lineJoin="round",t.strokeStyle=Pa,t.fillStyle=Pa,t.beginPath(),t.moveTo(0,n-ue[0]/o*(n-10)+10),s=1;s<ue.length;s+=Math.max(~~(ue.length/i),1)){for(var a=s/(ue.length-1)*i,r=[],l=-20;20>=l;++l)0>s+l||s+l>=ue.length||r.push(ue[s+l]);r=r.reduce(function(t,e){return t+e})/r.length/o,t.lineTo(a,n-r*(n-10)+10)}t.stroke(),t.globalAlpha=.5,t.lineTo(i,n),t.lineTo(0,n),t.fill(),t.globalAlpha=1}}}(),e("#statoverlay").show(),e("#stats").fadeIn(t?200:3e3)}else e("#overlays").fadeIn(t?200:3e3);It=null}function F(){bt?(e("#chat_textbox").css("background","rgba(14,93,141,.2)").attr("placeholder","Press enter to chat"),0):(e("#chat_textbox").css("background","rgba(0,0,0,.2)").attr("placeholder","Press enter to chat"),0)}function P(){e("#region").val()?t.localStorage.location=e("#region").val():t.localStorage.location&&e("#region").val(t.localStorage.location),e("#region").val()?e(".locationKnown").append(e("#region")):e("#locationUnknown").append(e("#region"))}function D(){e.ajax("main.php",{error:function(){setTimeout(D,1e3)},success:function(){V("wss://"+i)},dataType:"text",method:"POST",cache:!1,crossDomain:!0,data:Et+ne||"?"})}function E(){se&&Et&&(e("#connecting").show(),D())}function V(t){if(dt){dt.onopen=null,dt.onmessage=null,dt.onclose=null;try{dt.close()}catch(t){}dt=null}t="wss://"+i,gt=[],mt=[],pt={},vt=[],yt=[],xt=[],st=oe=null,Bt=0,this.leaderdefault="Leader Board",lastWinner="Leader Board",this.countdown=3600,this.gold=0,this.lastgold=0,qt=0,ue=[],$t=0,Lt=0,Rt=0,0,0,(dt=new WebSocket(t)).binaryType="arraybuffer",dt.onopen=O,dt.onmessage=L,dt.onclose=B,dt.onerror=function(){}}function N(t){return new DataView(new ArrayBuffer(t))}function U(t){dt.send(t.buffer)}function O(){var t;100,e("#connecting").hide(),console.log("socket open"),(t=N(5)).setUint8(0,254),t.setUint32(1,5,!0),U(t),(t=N(5)).setUint8(0,255),t.setUint32(1,123456789,!0),U(t),W(),function(){if(X()){var t=N(1+2*hash.length);t.setUint8(0,56);for(var e=0;e<hash.length;++e)t.setUint16(1+2*e,hash.charCodeAt(e),!0);U(t)}}()}function B(){console.log("socket close"),setTimeout(E,500),1.5}function L(t){!function(t){function e(){for(var e,n="";0!=(e=t.getUint16(i,!0));)i+=2,n+=String.fromCharCode(e);return i+=2,n}var i=0,n=!1;switch(240==t.getUint8(i)&&(i+=5),t.getUint8(i++)){case 16:!function(t,e){At=+new Date;var i=Math.random();Ot=!1;var n=t.getUint16(e,!0);for(e+=2,a=0;a<n;++a){var o=pt[t.getUint32(e,!0)],s=pt[t.getUint32(e+4,!0)];e+=8,o&&s&&(s.destroy(),s.ox=s.x,s.oy=s.y,s.oSize=s.size,s.nx=o.x,s.ny=o.y,s.nSize=s.size,s.updateTime=At,M(o,s))}for(var a=0;;){var r=t.getUint32(e,!0);if(e+=4,0==r)break;++a;var l,h,c=t.getInt16(e,!0);e+=2,h=t.getInt16(e,!0),e+=2,l=t.getInt16(e,!0),e+=2;for(var d=t.getUint8(e++),u=t.getUint8(e++),f=t.getUint8(e++),g=(d<<16|u<<8|f).toString(16);6>g.length;)g="0"+g;var m="#"+g,p=t.getUint8(e++),v=!!(1&p),y=!!(16&p);2&p&&(e+=4),4&p&&(e+=8),8&p&&(e+=16);for(var x,w="";x=t.getUint16(e,!0),e+=2,0!=x;)w+=String.fromCharCode(x);var k=null;pt.hasOwnProperty(r)?((k=pt[r]).updatePos(),k.ox=k.x,k.oy=k.y,k.oSize=k.size,k.color=m):(k=new et(r,c,h,l,m,w),vt.push(k),pt[r]=k,k.ka=c,k.la=h),k.isVirus=v,k.isAgitated=y,k.nx=c,k.ny=h,k.nSize=l,k.updateCode=i,k.updateTime=At,k.flag=p,w&&k.setName(w),-1!=gt.indexOf(r)&&-1==mt.indexOf(k)&&(document.getElementById("overlays").style.display="none",mt.push(k),1==mt.length&&(ut=k.x,ft=k.y))}for(n=t.getUint32(e,!0),e+=4,a=0;a<n;a++){var b=t.getUint32(e,!0);e+=4,null!=(k=pt[b])&&k.destroy()}Ot&&0==mt.length&&A(!1,1)}(t,i);break;case 17:te=t.getFloat32(i,!0),i+=4,ee=t.getFloat32(i,!0),i+=4,ie=t.getFloat32(i,!0),i+=4;break;case 20:mt=[],gt=[];break;case 21:le=t.getInt16(i,!0),i+=2,he=t.getInt16(i,!0),i+=2,re||(re=!0,ce=le,de=he);break;case 32:gt.push(t.getUint32(i,!0)),i+=4;break;case 48:n=!0,xe=!0;break;case 49:n||(xe=!1),oe=null;var o=t.getUint32(i,!0);for(i+=4,xt=[],r=0;r<o;++r){var s=t.getUint32(i,!0);i+=4,xt.push({id:s,name:e()})}tt();break;case 50:oe=[];var a=t.getUint32(i,!0);i+=4;for(var r=0;r<a;++r)oe.push(t.getFloat32(i,!0)),i+=4;tt();break;case 64:Mt=t.getFloat64(i,!0),i+=8,zt=t.getFloat64(i,!0),i+=8,Ft=t.getFloat64(i,!0),i+=8,Pt=t.getFloat64(i,!0),i+=8,te=(Ft+Mt)/2,ee=(Pt+zt)/2,ie=1,0==mt.length&&(ut=te,ft=ee,Dt=ie);break;case 96:this.countdown=t.getUint16(i,!0);break;case 97:this.lastWinner="",this.lastWinner=e(),""==this.lastWinner&&(this.lastWinner=this.leaderdefault),this.lastWinner=z(this.lastWinner.split("*")[0])[1];break;case 99:!function(t,e){function i(){for(var i,n="";0!=(i=t.getUint16(e,!0));)e+=2,n+=String.fromCharCode(i);return e+=2,n}var n=t.getUint8(e++);2&n&&(e+=4);4&n&&(e+=8);8&n&&(e+=16);var o=t.getUint8(e++),s=t.getUint8(e++),a=t.getUint8(e++),r=(o<<16|s<<8|a).toString(16);for(;r.length>6;)r="0"+r;r="#"+r,name=z(i())[1],""==name&&(name="UnnamedCell");1===n?(wt.push({name:H(name),color:r,message:H(i()),time:Date.now()}),bt||0):(wt.push({name:H(name),color:r,message:H(i()),time:Date.now()}),bt&&0);(function(){willDrawBoard=[];var t="#666666";bt?(t="#0e5d8d",willDrawBoard=kt):(t=Wt?"#FFFFFF":"#666666",willDrawBoard=wt);var e=(rt=document.createElement("canvas")).getContext("2d"),i=Math.min(Math.max(lt/1200,.75),1);rt.width=1e3*i,rt.height=550*i,e.scale(i,i);Date.now();if(!(willDrawBoard.length>=1))return;willDrawBoard[willDrawBoard.length-1].time;e.globalAlpha=1;var n=willDrawBoard.length,o=n-15;o<0&&(o=0);for(var s=0;s<n-o;s++){var a=new it(18,willDrawBoard[s+o].color);a.setValue(willDrawBoard[s+o].name.split("*")[0]);var r=e.measureText(a._value).width+6,l=a.render();e.drawImage(l,15,rt.height/i-24*(n-s-o));var h=new it(18,t);h.setValue(":"+willDrawBoard[s+o].message),l=h.render(),e.drawImage(l,15+1.8*r,rt.height/i-24*(n-o-s))}})(),F()}(t,i)}}(new DataView(t.data))}function R(){var t;if(X()){var e=_t-ht/2;64<=(t=St-lt/2)*t+e*e&&!(.01>Math.abs(we-Ct)&&.01>Math.abs(ke-Tt))&&(we=Ct,ke=Tt,(t=N(21)).setUint8(0,16),t.setFloat64(1,Ct,!0),t.setFloat64(9,Tt,!0),t.setUint32(17,0,!0),U(t))}}function W(){if(X()&&null!=It){var t=N(1+2*It.length);console.log(t),t.setUint8(0,192);for(var e=0;e<It.length;++e)t.setUint16(1+2*e,It.charCodeAt(e),!0);U(t)}}function Y(t){if(X()&&t.length<500&&t.length>0){var e=N(2+2*t.length),i=0,n=0;bt&&(n=1),e.setUint8(i++,206),e.setUint8(i++,n);for(var o=0;o<t.length;++o)e.setUint16(i,t.charCodeAt(o),!0),i+=2;U(e)}}function H(t){for(var e="fuck,fcuk".split(","),i=t.split(" "),n=t.replace("."," "),o=0;o<i.length;o++)-1!=e.indexOf(i[o])&&(n=n.replace(i[o],"***").replace("fuck","***").replace("FUCK","***"));return n}function X(){return null!=dt&&dt.readyState==dt.OPEN}function G(t){if(X()){var e=N(1);e.setUint8(0,t),U(e)}}function j(){K(),Ae(),t.requestAnimationFrame(j)}function J(){window.scrollTo(0,0),lt=t.innerWidth,ht=t.innerHeight,nt.width=lt,nt.height=ht;var i=e("#helloDialog");i.css("transform","none");var n=i.height();n>ht/1.1?i.css("transform","translate(-50%, -50%) scale("+ht/n/1.1+")"):i.css("transform","translate(-50%, -50%)"),K()}function Z(){return Math.max(ht/1080,lt/1920)*pe}function K(){r?(delta=(Date.now()-r)/1e3,r=Date.now(),l=1/delta):(r=Date.now(),h=l=60);var t,e=Date.now();if(0,At=e,0<mt.length){!function(){if(0!=mt.length){for(var t=0,e=0;e<mt.length;e++)t+=mt[e].size;t=Math.pow(Math.min(64/t,1),.4)*Z(),Dt=(9*Dt+t)/10}}();for(var i=t=0,n=0;n<mt.length;n++)mt[n].updatePos(),t+=mt[n].x/mt.length,i+=mt[n].y/mt.length;te=t,ee=i,ie=Dt,ut=(ut+t)/2,ft=(ft+i)/2}else ut=(29*ut+te)/30,ft=(29*ft+ee)/30,Dt=(9*Dt+ie*Z())/10;for(function(){if(.4>Dt)ct=null;else{for(var t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,n=Number.NEGATIVE_INFINITY,o=0,s=0;s<vt.length;s++){var a=vt[s];a.shouldRender()&&!a.prepareData&&20<a.size*Dt&&(o=Math.max(a.size,o),t=Math.min(a.x,t),e=Math.min(a.y,e),i=Math.max(a.x,i),n=Math.max(a.y,n))}for(ct=Te.init({minX:t-(o+100),minY:e-(o+100),maxX:i+(o+100),maxY:n+(o+100),maxChildren:2,maxDepth:4}),s=0;s<vt.length;s++)if((a=vt[s]).shouldRender()&&!(20>=a.size*Dt))for(t=0;t<a.points.length;++t)e=a.points[t].x,i=a.points[t].y,e<ut-lt/2/Dt||i<ft-ht/2/Dt||e>ut+lt/2/Dt||i>ft+ht/2/Dt||ct.insert(a.points[t])}}(),_(),me||ot.clearRect(0,0,lt,ht),me?Wt?(ot.fillStyle="#111111",ot.globalAlpha=.05,ot.fillRect(0,0,lt,ht),ot.globalAlpha=1):Ht?(ot.fillStyle="#ff4081",ot.globalAlpha=.05,ot.fillRect(0,0,lt,ht),ot.globalAlpha=1):Xt?(ot.fillStyle="#006400",ot.globalAlpha=.05,ot.fillRect(0,0,lt,ht),ot.globalAlpha=1):Gt?(ot.fillStyle="#00008b",ot.globalAlpha=.05,ot.fillRect(0,0,lt,ht),ot.globalAlpha=1):Yt&&(ot.fillStyle="#F2FBFF",ot.globalAlpha=.05,ot.fillRect(0,0,lt,ht),ot.globalAlpha=1):function(){Wt?ot.fillStyle="#111111":Ht?ot.fillStyle="#ff80ab":Xt?ot.fillStyle="#006400":Gt?ot.fillStyle="#00008b":Yt&&(ot.fillStyle="#F2FBFF");ot.fillRect(0,0,lt,ht),ot.save(),Wt?ot.strokeStyle="#AAAAAA":Ht?ot.strokeStyle="#000000":Xt?ot.strokeStyle="#000000":Gt?ot.strokeStyle="#000000":Yt&&(ot.strokeStyle="#000000");ot.globalAlpha=.2,ot.scale(Dt,Dt);ot.restore()}(),vt.sort(function(t,e){return t.size==e.size?t.id-e.id:t.size-e.size}),ot.save(),ot.translate(lt/2,ht/2),ot.scale(Dt,Dt),ot.translate(-ut,-ft),ot.globalAlpha=1==Kt?.6:1,n=0;n<yt.length;n++)yt[n].drawOneCell(ot);for(n=0;n<vt.length;n++)vt[n].drawOneCell(ot);if(re){for(ce=(3*ce+le)/4,de=(3*de+he)/4,ot.save(),ot.strokeStyle="#FFAAAA",ot.lineWidth=10,ot.lineCap="round",ot.lineJoin="round",ot.globalAlpha=.5,ot.beginPath(),n=0;n<mt.length;n++)ot.moveTo(mt[n].x,mt[n].y),ot.lineTo(ce,de);ot.restore()}if(ot.strokeStyle="#00D1DF",ot.lineWidth=25,ot.lineCap="round",ot.lineJoin="round",ot.beginPath(),ot.moveTo(Mt,zt),ot.lineTo(Ft,zt),ot.lineTo(Ft,Pt),ot.lineTo(Mt,Pt),ot.closePath(),ot.stroke(),ot.restore(),ot.globalAlpha=1,ot.fillStyle="#ffa900",ot.font="bold 32px Lato",this.countdown<3600){var o="",s=Math.floor(this.countdown/60);s<10&&(o+="0"),o+=s+":";var m=this.countdown%60;m<10&&(o+="0"),o+=m,ot.fillText(o,.5*(lt-ot.measureText(o).width),30)}at&&at.width&&ot.drawImage(at,lt-at.width-10,10),Qt||null!=rt&&rt.width>0&&ot.drawImage(rt,0,ht-rt.height-50);var p=Q();0!=(Bt=Math.max(Bt,p))&&(null==Se&&(Se=new it(18,"#FFFFFF"),scoreText2=new it(14,"#444444")),Se.setValue("SCORE: "+~~(Bt/100)),t=(i=Se.render()).width,ot.fillStyle="rgba(0, 0, 0, 0.40)",ot.fillRect(5,10,t+20,30),ot.drawImage(i,15,15),i=Se.render(),Et=i.width,Se.setValue("POINT: "+~~(p/100)),i=Se.render(),Et=i.width,ot.fillStyle="rgba(0, 0, 0, 0.40)",ot.fillRect(5,45,Et+20,30),ot.drawImage(i,15,50),i=scoreText2.render(),Et=i.width,scoreText2.setValue("🚀 Time in Game: "+I((Date.now()-fe)/1e3)),i=scoreText2.render(),Et=i.width,ot.drawImage(i,5,80),i=scoreText2.render(),Et=i.width,scoreText2.setValue("🙉 Best location : "+Lt),i=scoreText2.render(),Et=i.width,ot.drawImage(i,5,100),i=scoreText2.render(),Et=i.width,scoreText2.setValue("👑 Last Winner: "+this.lastWinner),i=scoreText2.render(),Et=i.width,ot.drawImage(i,5,120)),function(t){if(t.save(),c)for(var e=0;e<d.length;e++){var i=d[e];i.identifier==u?(t.beginPath(),t.strokeStyle="#0096ff",t.lineWidth=6,t.arc(g.x,g.y,40,0,2*Math.PI,!0),t.stroke(),t.beginPath(),t.strokeStyle="#0096ff",t.lineWidth=2,t.arc(g.x,g.y,60,0,2*Math.PI,!0),t.stroke(),t.beginPath(),t.strokeStyle="#0096ff",t.arc(f.x,f.y,40,0,2*Math.PI,!0),t.stroke()):(t.beginPath(),t.beginPath(),t.strokeStyle="#0096ff",t.lineWidth="6",t.arc(i.clientX,i.clientY,40,0,2*Math.PI,!0),t.stroke())}t.restore()}(ot),function(){if(0==mt.length||!v)return;ot.save(),ot.beginPath(),ot.fillStyle="rgba(0,0,0,.25)";var t=y?150:200;ot.lineWidth=1.5;var e=lt-t-10,i=ht-t-5;ot.rect(e,i,t,t),ot.fill(),ot.font="700 15px Lato",ot.fillStyle=Wt?"rgba(255, 255, 255, .9)":"rgba(0,0,0,.45)";ot.fillText("FPS: ",e,i-5);var n=~~h;ot.fillStyle=n>=40?"green":n>=20?"orange":"red",ot.fillText(n,e+ot.measureText("FPS: ").width,i-5);var o=ot.measureText("FPS: "+~~h).width;ot.fillStyle=Wt?"rgba(255, 255, 255, .9)":"rgba(0,0,0,.45)";var s="X: "+~~ut+", ";ot.fillText(s,e+o+5,i-5),ot.fillText("Y: "+~~ft,e+o+5+ot.measureText(s).width,i-5),ot.closePath(),ot.beginPath(),ot.lineWidth=1.25;for(var r=ut/(Ft-Mt)*t+e+t/2-100,l=ft/(Pt-zt)*t+i+t/2-100,c=bh=t,d=-1,u=-1,s=0;s<=c;s+=40){if(s!=c){var f=.5+s+e,g=i;if(a(f,g,f+40,g+bh,r,l)&&(d=f),0==s)continue;ot.moveTo(.5+s+e,i),ot.lineTo(.5+s+e,bh+i)}ot.fillStyle="white",ot.font="700 18px Lato",ot.textAlign="center",ot.strokeStyle="white",ot.lineWidth=1,ot.globalAlpha=.35;for(var m=0;m<5;m++)ot.fillText(String.fromCharCode(m+65)+s/40,.5+s+e-20,i+25.5+40*m)}for(var p=0;p<=bh;p+=40)if(p!=bh){var f=e,g=.5+p+i;if(a(f,g,f+c,g+40,r,l)&&(u=g),0==p)continue;ot.moveTo(e,.5+p+i),ot.lineTo(c+e,.5+p+i)}mt.length>0&&d>-1&&u>-1&&(ot.fillStyle="#ccff00",ot.globalAlpha=.3,ot.fillRect(d,u,40,40));ot.globalAlpha=1,ot.strokeStyle="rgba(255,255,255,.2)",ot.stroke(),ot.closePath();for(var m=0;m<mt.length;m++){var x=mt[m],w=x.ox/(Ft-Mt),k=x.oy/(Pt-zt),s=w*t+e+t/2-100,p=k*t+i+t/2-100,b=Math.max(2,x.size/(t/2));if(ot.fillStyle=x.color,0==m){ot.font="bold "+(14+b)+"px Lato";ot.measureText(x.name);ot.strokestyle="black"}ot.beginPath(),ot.strokeStyle="black",ot.lineWidth=1,ot.globalAlpha=1,ot.arc(s,p,b,0,2*Math.PI),ot.stroke(),ot.fill(),ot.closePath()}ot.restore()}();var x=Date.now()-e;x>1e3/60?be-=.01:x<1e3/65&&(be+=.01),.4>be&&(be=.4),1<be&&(be=1)}function Q(){for(var t=0,e=0;e<mt.length;e++)t+=mt[e].nSize*mt[e].nSize;return t}window.addEventListener("keydown",function(t){if(69===t.keyCode)for(var e=0;e<10;++e)setTimeout(function(){window.onkeydown({keyCode:87}),window.onkeyup({keyCode:87})},50*e)}),$("#screenshot").click(function(){e(".stats-highest-mass").text(~~(Bt/100)),setCookie("yuksekMass",~~(Bt/100),30)}),setInterval(function(){h=l},100);function tt(){if(this.lastWinner==leaderdefault);else;if(at=null,(null!=oe||0!=xt.length)&&(null!=oe||Nt)){var t=(at=document.createElement("canvas")).getContext("2d"),e=120;e=null==oe?e+30*xt.length:e+180;var i=Math.min(.22*ht,Math.min(200,.3*lt))/200;at.width=240*i,at.height=e*i,t.constructor.prototype.fillRoundedRect=function(t,e,i,n,o,s,a){void 0===o&&(o=5),this.beginPath(),this.moveTo(t+o,e),this.arcTo(t+i,e,t+i,e+n,o),this.arcTo(t+i,e+n,t,e+n,o),this.arcTo(t,e+n,t,e,o),this.arcTo(t,e,t+i,e,o),a&&this.stroke(),(s||void 0===s)&&this.fill()},t.fillStyle="rgba(0, 0, 0, 0.298039)",t.strokeStyle="rgba(0, 0, 0, 0.298039)",t.fillRoundedRect(0,0,at.width,at.height,10),t.scale(i,i),t.globalAlpha=1,t.fillStyle="#FFFFFF";var n,o=this.lastWinner;if(t.font="30px Lato",t.fillText(o,120-t.measureText(o).width/2,40),null==oe)for(t.font="22px Lato",n=0;n<xt.length;++n)o=xt[n].name.split("*")[0]||"UnnamedCell",Nt||(o="UnnamedCell"),""==(o=z(o)[1])&&(o="UnnamedCell"),-1!=gt.indexOf(xt[n].id)?(mt[0].name.split("*")[0]&&(o=z(mt[0].name.split("*")[0])[1]),""==o&&(o="UnnamedCell"),t.fillStyle="#ccff00",xe||(o=n+1+") "+o),t.fillText(o,20,70+32*n+20)):(t.fillStyle=" #FFFFFF",xe||(o=n+1+") "+o),t.fillText(o,20,70+32*n+20));else for(n=o=0;n<oe.length;++n){var s=o+oe[n]*Math.PI*2;t.fillStyle=ge[n+1],t.beginPath(),t.moveTo(100,140),t.arc(100,140,80,o,s,!1),t.fill(),o=s}}}function et(t,e,i,n,o,s){this.id=t,this.ox=this.x=e,this.oy=this.y=i,this.oSize=this.size=n,this.color=o,this.points=[],this.pointsAcc=[],this.createPoints(),this.setName(s)}function it(t,e,i,n){t&&(this._size=t),e&&(this._color=e),this._stroke=!!i,n&&(this._strokeColor=n)}t.location.protocol;var nt,ot,st,at,rt,lt,ht,ct=null,dt=null,ut=0,ft=0,gt=[],mt=[],pt={},vt=[],yt=[],xt=[],wt=[],kt=[],bt=!1,St=0,_t=0,Ct=-1,Tt=-1,At=0,It=null,Mt=0,zt=0,Ft=1e4,Pt=1e4,Dt=1,Et=null,Vt=!0,Nt=!0,Ut=!1,Ot=!1,Bt=0,qt=0,$t=0,Lt=0,Rt=0,Wt=!0,Yt=!1,Ht=!1,Xt=!1,Gt=!1,jt=!1,Jt=!0,Zt=.4,Kt=!1,Qt=!1,te=ut=~~((Mt+Ft)/2),ee=ft=~~((zt+Pt)/2),ie=1,ne="",oe=null,se=!1,ae=!0,re=!1,le=0,he=0,ce=0,de=0,ue=[],fe=Date.now(),ge=($t=0,["#333333","#FF3333","#33FF33","#3333FF"]),me=!1,pe=1,ve=("ontouchstart"in t&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),new Image),ye=new Image,xe=!1;Wt?(ve.src="../img/images/split_dark.webp",ye.src="../img/images/feed_dark.webp"):(ve.src="../img/images/split.webp",ye.src="../img/images/feed.webp");document.createElement("canvas");t.isSpectating=!1,t.createParty=function(){e(".partyToken").val("agar.io/#cDloPsx"),e("#helloContainer").attr("data-party-state","1")},t.joinParty=function(t){e("#helloContainer").attr("data-party-state","4"),t=decodeURIComponent(t).replace(/.*#/gim,"")},t.cancelParty=function(){e("#helloContainer").attr("data-party-state","0"),e("#helloContainer").attr("data-gamemode","")},t.setNick=function(t,e){if(null!=t&&t&&""!=t){t=t.replace(/[|&;+,]/g,":)"),C(),It="{"+document.getElementById("skin_no_gdtr").innerText+"}"+t,W(),Bt=0,0,ue=[],qt=0,fe=Date.now(),Lt=0,Rt=0,$t=0;setInterval(function(){0},1e3);0}else alert("Enter Nick ! / Invalid User Name Input !")},t.setRegion=T,t.setSkins=function(t){setCookie("gameSkin",t,99999),Vt=t},t.setNames=function(t){setCookie("gameName",t,99999),Nt=t},t.setDarkTheme=function(t){setCookie("gameDarkTheme","dark",99999),Wt=t},t.setZoom=function(t){setCookie("gameZoom",Jt=!t,99999)},t.setMap=function(t){setCookie("gameMap",v=!!t,99999)},t.pembetema=function(t){Wt=!1,Yt=!1,setCookie("gameDarkTheme","pembe",99999),Ht=t},t.yesiltema=function(t){Wt=!1,Yt=!1,Ht=!1,setCookie("gameDarkTheme","yesil",99999),Xt=t},t.mavitema=function(t){Wt=!1,Yt=!1,Ht=!1,Xt=!1,setCookie("gameDarkTheme","mavi",99999),Gt=t},t.default_tema=function(t){Wt=!1,Ht=!1,Xt=!1,Gt=!1,setCookie("gameDarkTheme","white",99999),Yt=t},t.setColors=function(t){Ut=t},t.setShowMass=function(t){setCookie("gameShowMass",t,99999),jt=t},t.setTransparent=function(t){setCookie("gameTrans",t,99999),Kt=t},t.setSmooth=function(t){setCookie("gameSmooth",t,99999),Zt=t?2:.4},t.setHideChat=function(t){setCookie("gameChat",t,99999),Qt=t,t?e("#chat_textbox").hide():e("#chat_textbox").show()},t.setSkipStat=function(t){t},t.closeStats=function(){setCookie("gameStat",arg,99999),e("#statoverlay").hide(),e("#stats").hide(),e("#overlays").fadeIn(200)},t.spectate=function(){document.getElementById("return_home_btn").style.display="block",It=null,t.isSpectating=!0,G(1),C()},t.toggleChatMode=function(){e("#chat_textbox").is(":focus")||(bt=!bt),F()},t.setGameMode=function(t){var n;n=t,zA=n,n!=ne&&(":ffa"==n?n="77.223.159.80:778":":teams"==n?n="77.223.159.80:777":":ffa2"==n&&(n="77.223.159.80:776"),i=n,ne=zA,E()),e("#helloContainer").attr("data-gamemode",zA)},t.setAcid=function(t){setCookie("gameAcid",t,99999),me=t},null!=t.localStorage&&(null==t.localStorage.AB8&&(t.localStorage.AB8=~~(100*Math.random())),$t=+t.localStorage.AB8,t.ABGroup=$t),setTimeout(function(){},3e5),setInterval(function(){var t=function(){if(null==xt)return 0;for(var t=0;t<xt.length;++t)if(-1!=gt.indexOf(xt[t].id))return t+1;return 0}();0!=t&&(++Rt,0==Lt&&(Lt=t),Lt=Math.min(Lt,t))},1e3),setInterval(function(){ue.push(Q()/100)},1e3/60);t.connect=V;var we=-1,ke=-1,be=1,Se=null,_e={},Ce=["_canvas'blob"];et.prototype={id:0,points:null,pointsAcc:null,name:null,nameCache:null,sizeCache:null,x:0,y:0,size:0,ox:0,oy:0,oSize:0,nx:0,ny:0,nSize:0,flag:0,updateTime:0,updateCode:0,drawTime:0,destroyed:!1,isVirus:!1,isAgitated:!1,wasSimpleDrawing:!0,destroy:function(){var t;for(t=0;t<vt.length;t++)if(vt[t]==this){vt.splice(t,1);break}delete pt[this.id],-1!=(t=mt.indexOf(this))&&(Ot=!0,mt.splice(t,1)),-1!=(t=gt.indexOf(this.id))&&gt.splice(t,1),this.destroyed=!0,yt.push(this)},getNameSize:function(){return Math.max(~~(.3*this.size),24)},setName:function(t){(this.name=t)&&(null==this.nameCache?(this.nameCache=new it(this.getNameSize(),"#FFFFFF",!0,"#000000"),this.nameCache.setValue(this.name)):(this.nameCache.setSize(this.getNameSize()),this.nameCache.setValue(this.name)))},createPoints:function(){for(var t=this.getNumPoints();this.points.length>t;){var e=~~(Math.random()*this.points.length);this.points.splice(e,1),this.pointsAcc.splice(e,1)}for(0==this.points.length&&0<t&&(this.points.push({ref:this,size:this.size,x:this.x,y:this.y}),this.pointsAcc.push(Math.random()-.5));this.points.length<t;){var i=~~(Math.random()*this.points.length),n=this.points[i];this.points.splice(i,0,{ref:this,size:n.size,x:n.x,y:n.y}),this.pointsAcc.splice(i,0,this.pointsAcc[i])}},getNumPoints:function(){if(0==this.id)return 16;var t=10;20>this.size&&(t=0),this.isVirus&&(t=30);var e=this.size;return this.isVirus||(e*=Dt),e*=be,32&this.flag&&(e*=.25),~~Math.max(e,t)},movePoints:function(){this.createPoints();for(var t=this.points,e=this.pointsAcc,i=t.length,n=0;n<i;++n){var o=e[(n-1+i)%i],s=e[(n+1)%i];e[n]+=(Math.random()-.5)*(this.isAgitated?3:1),e[n]*=.7,10<e[n]&&(e[n]=10),-10>e[n]&&(e[n]=-10),e[n]=(o+s+8*e[n])/10}for(var a=this,r=this.isVirus?0:(this.id/1e3+At/1e4)%(2*Math.PI),l=0;l<i;++l){var h=t[l].size,c=t[(l-1+i)%i].size,d=t[(l+1)%i].size;if(15<this.size&&null!=ct&&20<this.size*Dt&&0!=this.id){var u=!1,f=t[l].x,g=t[l].y;ct.retrieve2(f-5,g-5,10,10,function(t){t.ref!=a&&25>(f-t.x)*(f-t.x)+(g-t.y)*(g-t.y)&&(u=!0)}),(!u&&t[l].x<Mt||t[l].y<zt||t[l].x>Ft||t[l].y>Pt)&&(u=!0),u&&(0<e[l]&&(e[l]=0),e[l]-=1)}0>(h+=e[l])&&(h=0),h=this.isAgitated?(19*h+this.size)/20:(12*h+this.size)/13,t[l].size=(c+d+8*h)/10,c=2*Math.PI/i,d=this.points[l].size,this.isVirus&&0==l%2&&(d+=5),t[l].x=this.x+Math.cos(c*l+r)*d,t[l].y=this.y+Math.sin(c*l+r)*d}},updatePos:function(){if(0==this.id)return 1;var t,e=0>(t=0>(t=(At-this.updateTime)/120)?0:1<t?1:t)?0:1<t?1:t;if(this.getNameSize(),this.destroyed&&1<=e){var i=yt.indexOf(this);-1!=i&&yt.splice(i,1)}return this.x=t*(this.nx-this.ox)+this.ox,this.y=t*(this.ny-this.oy)+this.oy,this.size=e*(this.nSize-this.oSize)+this.oSize,e},shouldRender:function(){return 0==this.id||!(this.x+this.size+40<ut-lt/2/Dt||this.y+this.size+40<ft-ht/2/Dt||this.x-this.size-40>ut+lt/2/Dt||this.y-this.size-40>ft+ht/2/Dt)},drawOneCell:function(t){if(this.shouldRender()){var e=0!=this.id&&!this.isVirus&&!this.isAgitated&&Zt>Dt;if(5>this.getNumPoints()&&(e=!0),this.wasSimpleDrawing&&!e)for(var i=0;i<this.points.length;i++)this.points[i].size=this.size;if(this.wasSimpleDrawing=e,t.save(),this.drawTime=At,i=this.updatePos(),this.destroyed&&(t.globalAlpha*=1-i),t.lineWidth=10,t.lineCap="round",t.lineJoin=this.isVirus?"miter":"round",Ut?(t.fillStyle="#FFFFFF",t.strokeStyle="#AAAAAA"):(t.fillStyle=this.color,t.strokeStyle=this.color),e)t.beginPath(),t.arc(this.x,this.y,this.size,0,2*Math.PI,!1);else{this.movePoints(),t.beginPath();var n=this.getNumPoints();for(t.moveTo(this.points[0].x,this.points[0].y),i=1;i<=n;++i){var o=i%n;t.lineTo(this.points[o].x,this.points[o].y)}}t.closePath();var a=z(this.name.toLowerCase())[0];if(-1!=a.indexOf("[")){var r=a.indexOf("["),l=a.indexOf("]");a=a.slice(r+1,l)}if(!this.isAgitated&&Vt&&":teams"!=ne&&-1!=knownNameDict.indexOf(a)?(_e.hasOwnProperty(a)||(_e[a]=new Image,_e[a].src=__domain_adi+"/skins/"+a+".webp"),i=0!=_e[a].width&&_e[a].complete?_e[a]:null):i=null,i=!!(o=i)&&-1!=Ce.indexOf(a),t.fill(),null==o||i||(t.save(),t.clip(),t.drawImage(o,this.x-this.size,this.y-this.size,2*this.size,2*this.size),t.restore()),void 0!==mt[0]&&this.id==mt[0].id&&~~(this.size*this.size/100)<Bt/100&&1==mt.length){t.save();var h=St-lt/2,c=_t-(e=ht/2),d=Math.atan2(c,h);t.translate(this.x,this.y),t.rotate(d),t.translate(-this.x,-this.y),t.drawImage(s,this.x-1.5*this.size,this.y-1.5*this.size,3*this.size,3*this.size),t.restore()}if(t.globalAlpha=1,null!=o&&i&&t.drawImage(o,this.x-2*this.size,this.y-2*this.size,4*this.size,4*this.size),i=-1!=mt.indexOf(this),0!=this.id){e=~~this.y;if((Nt||i)&&this.name&&this.nameCache&&(null==o||-1=="turkey".indexOf(a))&&(t.globalAlpha=1,t.font="bold "+Math.max(~~(.3*this.size),24)+"px Lato",t.fillStyle="#FFF",t.textAlign="center",nikim=z(this.name.split("*")[0])[1],t.fillText(nikim,this.x,this.y)),jt&&(i||0==mt.length&&(!this.isVirus||this.isAgitated)&&20<this.size)){t.globalAlpha=1,t.font="bold "+Math.max(~~(this.size/3*.3),24)+"px Lato",t.fillStyle="#FFF",t.textAlign="center";var u=~~(this.size*this.size/100);t.fillText(u,this.x,this.y+100)}}0,t.restore()}}},it.prototype={_value:"",_color:"#000000",_stroke:!1,_strokeColor:"#000000",_size:16,_canvas:null,_ctx:null,_dirty:!1,_scale:1,setSize:function(t){this._size!=t&&(this._size=t,this._dirty=!0)},setScale:function(t){this._scale!=t&&(this._scale=t,this._dirty=!0)},setStrokeColor:function(t){this._strokeColor!=t&&(this._strokeColor=t,this._dirty=!0)},setValue:function(t){t!=this._value&&(this._value=t,this._dirty=!0)},render:function(){if(null==this._canvas&&(this._canvas=document.createElement("canvas"),this._ctx=this._canvas.getContext("2d")),this._dirty){this._dirty=!1;var t=this._canvas,e=this._ctx,i=this._value,n=this._scale,o=this._size,s="700 "+o+"px Lato";e.font=s;var a=~~(.2*o);t.width=(e.measureText(i).width+6)*n,t.height=(o+a)*n,e.font=s,e.scale(n,n),e.globalAlpha=1,e.lineWidth=3,e.strokeStyle=this._strokeColor,e.fillStyle=this._color,this._stroke&&e.strokeText(i,3,o-a/2),e.fillText(i,3,o-a/2)}return this._canvas},getWidth:function(){return ot.measureText(this._value).width+6}},Date.now||(Date.now=function(){return(new Date).getTime()});var Te={init:function(t){function e(t,e,i,n,o){this.x=t,this.y=e,this.w=i,this.h=n,this.depth=o,this.items=[],this.nodes=[]}var i=t.maxChildren||2,n=t.maxDepth||4;e.prototype={x:0,y:0,w:0,h:0,depth:0,items:null,nodes:null,exists:function(t){for(var e=0;e<this.items.length;++e){var i=this.items[e];if(i.x>=t.x&&i.y>=t.y&&i.x<t.x+t.w&&i.y<t.y+t.h)return!0}if(0!=this.nodes.length){var n=this;return this.findOverlappingNodes(t,function(e){return n.nodes[e].exists(t)})}return!1},retrieve:function(t,e){for(var i=0;i<this.items.length;++i)e(this.items[i]);if(0!=this.nodes.length){var n=this;this.findOverlappingNodes(t,function(i){n.nodes[i].retrieve(t,e)})}},insert:function(t){0!=this.nodes.length?this.nodes[this.findInsertNode(t)].insert(t):this.items.length>=i&&this.depth<n?(this.devide(),this.nodes[this.findInsertNode(t)].insert(t)):this.items.push(t)},findInsertNode:function(t){return t.x<this.x+this.w/2?t.y<this.y+this.h/2?0:2:t.y<this.y+this.h/2?1:3},findOverlappingNodes:function(t,e){return!!(t.x<this.x+this.w/2&&(t.y<this.y+this.h/2&&e(0)||t.y>=this.y+this.h/2&&e(2))||t.x>=this.x+this.w/2&&(t.y<this.y+this.h/2&&e(1)||t.y>=this.y+this.h/2&&e(3)))},devide:function(){var t=this.depth+1,i=this.w/2,n=this.h/2;for(this.nodes.push(new e(this.x,this.y,i,n,t)),this.nodes.push(new e(this.x+i,this.y,i,n,t)),this.nodes.push(new e(this.x,this.y+n,i,n,t)),this.nodes.push(new e(this.x+i,this.y+n,i,n,t)),t=this.items,this.items=[],i=0;i<t.length;i++)this.insert(t[i])},clear:function(){for(var t=0;t<this.nodes.length;t++)this.nodes[t].clear();this.items.length=0,this.nodes.length=0}};var o={x:0,y:0,w:0,h:0};return{root:new e(t.minX,t.minY,t.maxX-t.minX,t.maxY-t.minY,0),insert:function(t){this.root.insert(t)},retrieve:function(t,e){this.root.retrieve(t,e)},retrieve2:function(t,e,i,n,s){o.x=t,o.y=e,o.w=i,o.h=n,this.root.retrieve(o,s)},exists:function(t){return this.root.exists(t)},clear:function(){this.root.clear()}}}},Ae=function(){function t(t,e,i,n,o){var s=e.getContext("2d"),a=e.width;e=e.height,t.color=o,t.setName(i),t.size=n,s.save(),s.translate(a/2,e/2),t.drawOneCell(s),s.restore()}for(var i=new et(-1,0,0,32,"#5bc0de",""),n=new et(-1,0,0,32,"#5bc0de",""),o=(new et(-1,0,0,32,"#5bc0de",""),"#ebc0de #ebc0de #ebc0de #ebc0de #0791ff #5a07ff #ff07fe #ffa507 #ff0774 #077fff #3aff07 #ff07ed #07a8ff #ff076e #3fff07 #ff0734 #07ff20 #ff07a2 #ff8207 #07ff0e".split(" ")),s=[],a=0;a<o.length;++a){var r=a/o.length*12,l=30*Math.sqrt(a/o.length);s.push(new et(-1,Math.cos(r)*l,Math.sin(r)*l,10,o[a],""))}!function(t){for(var e,i,n=t.length;0<n;)i=Math.floor(Math.random()*n),e=t[--n],t[n]=t[i],t[i]=e}(s);var h=document.createElement("canvas");return h.getContext("2d"),h.width=h.height=70,t(n,h,"",26,o[Math.round(Math.random()*o.length)]),function(){e(".cell-spinner").filter(":visible").each(function(){var n=e(this),o=Date.now(),s=this.width,a=this.height,r=this.getContext("2d");r.clearRect(0,0,s,a),r.save(),r.translate(s/2,a/2);for(var l=0;10>l;++l)r.drawImage(h,(.1*o+80*l)%(s+140)-s/2-70-35,a/2*Math.sin((.001*o+l)%Math.PI*2)-35,70,70);r.restore(),(n=n.attr("data-itr"))&&(n=da(n)),t(i,this,n||"",+e(this).attr("data-size"),"#5bc0de")}),e("#statsPellets").filter(":visible").each(function(){e(this);var i=this.width,n=this.height;for(this.getContext("2d").clearRect(0,0,i,n),i=0;i<s.length;i++)t(s[i],this,"",s[i].size,s[i].color)})}}();t.onload=function(){se=!0,document.getElementById("canvas").focus();var i,o=!1;st=nt=document.getElementById("canvas"),ot=st.getContext("2d"),st.onmousemove=function(t){St=t.clientX,_t=t.clientY,_()},st.addEventListener("touchstart",w,!1),window.addEventListener("touchstart",x,!1),st.addEventListener("touchmove",k,!1),st.addEventListener("touchend",b,!1),st.onmouseup=function(){},/firefox/i.test(navigator.userAgent)?document.addEventListener("DOMMouseScroll",S,!1):document.body.onmousewheel=S,st.onfocus=function(){o=!1},document.getElementById("chat_textbox").onblur=function(){o=!1},document.getElementById("chat_textbox").onfocus=function(){o=!0};var s=!1,a=!1,r=!1;e("canvas").dblclick(function(){Y("psx2psx2")}),t.onkeydown=function(t){switch(t.keyCode){case 65:o||0==this.gold||(G(65),this.gold-=1);break;case 32:s||o||(R(),G(17),s=!0);break;case 81:a||o||(G(18),a=!0);break;case 87:r||o||(R(),G(21),r=!0);break;case 27:A(!0,0);break;case 13:o?(o=!1,document.getElementById("chat_textbox").blur(),(i=document.getElementById("chat_textbox").value).length>0&&1==n&&function(t){var e,i="fuck,fcuk".split(","),n=t.toLowerCase().split(" ");for(e in n=n.join(""),i)if(-1!=n.indexOf(i[e]))return!1;return!0}(i)&&(Y(H(i)),n=!1,setTimeout(function(){n=!0},3e3)),document.getElementById("chat_textbox").value=""):ae||(document.getElementById("chat_textbox").focus(),o=!0)}},t.onkeyup=function(t){switch(t.keyCode){case 32:s=!1;break;case 87:r=!1;break;case 81:a&&(G(19),a=!1)}},t.onblur=function(){G(19),r=a=s=!1},t.onresize=J,J(),t.requestAnimationFrame?t.requestAnimationFrame(j):setInterval(K,1e3/60),setInterval(R,40),Et&&e("#region").val(Et),P(),T(e("#region").val()),null==dt&&Et&&E(),function(){m=t.innerWidth,q=t.innerHeight,canvas.width=canvas.width=m,canvas.height=canvas.height=q;var i=e("#helloContainer");i.css("transform","none");var n=t.innerHeight;660>n/1.1?i.css("transform","translate(-50%, -50%) scale("+n/660/1.1+")"):i.css("transform","translate(-50%, -50%)")}(),e("#overlays").show()}}(window,window.jQuery),$("#totalplayer").load(__domain_adi+"/totalplayer.php").fadeIn("fast");var refreshId=setInterval(function(){$("#totalplayer").fadeOut("fast").load(__domain_adi+"/totalplayer.php").fadeIn("fast")},3e4);$(".controls").show(),$(".copy-party-token").click(function(){var t=$(".partyToken:visible")[0];t.setSelectionRange(0,t.value.length),t.select();try{document.execCommand("copy")}catch(t){}}),$("input#nick").keypress(function(t){"13"==t.which&&(t.preventDefault(),isSpectating||setNick(document.getElementById("nick").value))});var _0x97c2=["keyCode","onkeydown","onkeyup","keydown","addEventListener"];function getScreenshot(){var t=document.getElementById("canvas"),e=(t.getContext("2d"),t.toDataURL("image/jpeg",.7));$(".gallery").html('<a href="'+e+'" target="_blank"><img id="ss" src="'+e+'"></a>'),$("#screenshot").hide(),$(".face,.twit,.del").show(),$(".gdtr_screenshot_btn").show(),$(".gallery").show()}function closeAndPlay(){window.location=__domain_adi}function clearProcess(){$(".gallery").html(""),$("#screenshot").show(),$(".gdtr_screenshot_btn").hide(),$(".face,.twit,.del").hide(),$(".gallery").hide()}function idver(t){for(var e="",i="abcdefghijklmnopqrstuvwxyz0123456789",n=i.length,o=0;o<t;o++)e+=i.charAt(Math.floor(Math.random()*n));return e}function shareProcess(t){$(".controls").hide();var e=idver(11),i=$("#nick").val(),n=screen.height/2-175,o=screen.width/2-260,s=encodeURIComponent(__domain_adi+"/score-"+e+".html");"facebook"==t?window.open("https://www.facebook.com/sharer/sharer.php?u="+s,"sharer","top="+n+",left="+o+",toolbar=0,status=0,width=520,height=350"):"twitter"==t&&window.open("https://twitter.com/share?text=Screenshot from Agario&url="+s,"sharer","top="+n+",left="+o+",toolbar=0,status=0,width=520,height=350"),$.post("bor.do",{resim:$("#ss").attr("src"),no:e,saveplayer:i},function(t){console.log(s)})}function Share(t){"fb"==t&&window.open("https://www.facebook.com/sharer.php?u="+__domain_adi+"&quote=Play+to+Agario+Boston!%20Highest%20Mass%20"+document.querySelector(".gdtr_highest_mass").innerHTML+"%20Top%20Position%20"+document.querySelector(".gdtr_top_leaderboard_position").innerHTML+"%20Time%20Alive%20"+document.querySelector(".gdtr_time_alive").innerHTML+"%20Food%20Eaten%20"+document.querySelector(".gdtr_food_eaten").innerHTML,"pagename","resizable"),"tw"==t&&window.open("https://twitter.com/intent/tweet?text=Play%20To%20"+__domain_adi+"%20Highest%20Mass%20"+document.querySelector(".gdtr_highest_mass").innerHTML+"%20Top%20Position%20"+document.querySelector(".gdtr_top_leaderboard_position").innerHTML+"%20Time%20Alive%20"+document.querySelector(".gdtr_time_alive").innerHTML+"%20Food%20Eaten%20"+document.querySelector(".gdtr_food_eaten").innerHTML,"pagename","resizable")}window[_0x97c2[4]](_0x97c2[3],function(t){if(69===t[_0x97c2[0]])for(var e=0;e<10;++e)setTimeout(function(){window[_0x97c2[1]]({keyCode:87}),window[_0x97c2[2]]({keyCode:87})},50*e)}),$(".gallery").hide(),$(".face,.twit,.del").hide(),$(document).ready(function(){selectAgarioTheme?"white"==selectAgarioTheme?($(".select_white").addClass("active"),default_tema(!0)):"dark"==selectAgarioTheme?($(".select_dark").addClass("active"),setDarkTheme(!0)):"yesil"==selectAgarioTheme?($(".select_green").addClass("active"),yesiltema(!0)):"mavi"==selectAgarioTheme?($(".select_blue").addClass("active"),mavitema(!0)):($(".select_pink").addClass("active"),pembetema(!0)):document.querySelectorAll("input[name=theme]")[1].checked=!0,void 0===getCookie("gameSkin")||getCookie("gameSkin")||setSkins(!0),void 0===getCookie("gameName")||getCookie("gameName")||setSkins(!0),void 0!==getCookie("gameShowMass")&&getCookie("gameShowMass")&&setShowMass(!0),void 0!==getCookie("gameAcid")&&getCookie("gameAcid")&&setAcid(!0),void 0!==getCookie("gameSmooth")&&getCookie("gameSmooth")&&setSmooth(!0),void 0===getCookie("gameZoom")||getCookie("gameZoom")||setZoom(!0)});